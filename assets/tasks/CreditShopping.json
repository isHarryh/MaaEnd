{
    "task": [
        {
            "name": "CreditShopping",
            "label": "$task.CreditShopping.label",
            "entry": "CreditShoppingMain",
            "description": "$task.CreditShopping.description",
            "option": [
                "CreditShoppingOptions",
                "AutoGetCredits",
                "CreditShoppingForce",
                "CreditShoppingReserve",
                "CreditShoppingOtherItems"
            ]
        }
    ],
    "option": {
        "CreditShoppingOptions": {
            "type": "input",
            "label": "$option.CreditShoppingOptions.label",
            "inputs": [
                {
                    "name": "buy_first",
                    "label": "$option.CreditShoppingOptions.inputs.buy_first.label",
                    "description": "$option.CreditShoppingOptions.inputs.buy_first.description",
                    "pipeline_type": "string",
                    "default": "嵌晶玉|武库配额"
                },
                {
                    "name": "blacklist",
                    "label": "$option.CreditShoppingOptions.inputs.blacklist.label",
                    "description": "$option.CreditShoppingOptions.inputs.blacklist.description",
                    "pipeline_type": "string",
                    "default": ""
                }
            ],
            "pipeline_override": {
                "BuyFirstOCR": {
                    "expected": "^({buy_first})$"
                },
                "BuyFirstOCR_CanNotAfford": {
                    "expected": "^({buy_first})$"
                },
                "BlacklistOCR": {
                    "expected": "^(?!({blacklist})$).*$"
                }
            }
        },
        "CreditShoppingForce": {
            "type": "select",
            "label": "$option.CreditShoppingForce.label",
            "description": "$option.CreditShoppingForce.description",
            "default_case": "IgnoreBlackList",
            "cases": [
                {
                    "name": "IgnoreBlackList",
                    "label": "$option.CreditShoppingForce.cases.IgnoreBlackList.label",
                    "pipeline_override": {
                        "CreditShoppingBuyBlacklist": {
                            "enabled": true //允许购买黑名单物品
                        },
                        "RefreshItem": {
                            "enabled": false //不刷新
                        },
                        "CreditShippingCanNotToBuy": {
                            "enabled": false //不进入刷新的无法购买流程
                        }
                    }
                },
                {
                    "name": "Refresh",
                    "label": "$option.CreditShoppingForce.cases.Refresh.label",
                    "pipeline_override": {
                        "CreditShoppingBuyBlacklist": {
                            "enabled": false //不购买黑名单物品
                        },
                        "RefreshItem": {
                            "enabled": true //允许刷新
                        },
                        "CreditShippingCanNotToBuy": {
                            "enabled": true //进入刷新的无法购买流程
                        }
                    }
                }
            ]
        },
        "CreditShoppingOtherItems": {
            "type": "switch",
            "label": "$option.CreditShoppingOtherItems.label",
            "description": "$option.CreditShoppingOtherItems.description",
            "default_case": "No",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "CreditShoppingBuyNormalNoDiscount": {
                            "enabled": false
                        },
                        "CreditShoppingBuyNormalWithDiscount": {
                            "enabled": true
                        }
                    },
                    "option": [
                        "DiscountValue"
                    ]
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "CreditShoppingBuyNormalNoDiscount": {
                            "enabled": false
                        },
                        "CreditShoppingBuyNormalWithDiscount": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "DiscountValue": {
            "type": "select",
            "label": "$option.DiscountValue.label",
            "default_case": "Any",
            "cases": [
                {
                    "name": "Any",
                    "label": "$option.DiscountValue.cases.Any.label",
                    "pipeline_override": {
                        "CreditShoppingBuyNormalNoDiscount": {
                            "enabled": true
                        },
                        "CreditShoppingBuyNormalWithDiscount": {
                            "enabled": false
                        }
                    }
                },
                {
                    "name": "-25%",
                    "label": "$option.DiscountValue.cases.-25%.label",
                    "pipeline_override": {
                        "IsDiscount": {
                            "expected": [
                                "[-－]\\s*99\\s*%|99\\s*%",
                                "[-－]\\s*75\\s*%|75\\s*%",
                                "[-－]\\s*50\\s*%|50\\s*%",
                                "[-－]\\s*25\\s*%|25\\s*%"
                            ]
                        }
                    }
                },
                {
                    "name": "-50%",
                    "label": "$option.DiscountValue.cases.-50%.label",
                    "pipeline_override": {
                        "IsDiscount": {
                            "expected": [
                                "[-－]\\s*99\\s*%|99\\s*%",
                                "[-－]\\s*75\\s*%|75\\s*%",
                                "[-－]\\s*50\\s*%|50\\s*%"
                            ]
                        }
                    }
                },
                {
                    "name": "-75%",
                    "label": "$option.DiscountValue.cases.-75%.label",
                    "pipeline_override": {
                        "IsDiscount": {
                            "expected": [
                                "[-－]\\s*99\\s*%|99\\s*%",
                                "[-－]\\s*75\\s*%|75\\s*%"
                            ]
                        }
                    }
                },
                {
                    "name": "-99%",
                    "label": "$option.DiscountValue.cases.-99%.label",
                    "pipeline_override": {
                        "IsDiscount": {
                            "expected": [
                                "[-－]\\s*99\\s*%|99\\s*%"
                            ]
                        }
                    }
                }
            ]
        },
        "CreditShoppingReserve": {
            "type": "switch",
            "label": "$option.CreditShoppingReserve.label",
            "description": "$option.CreditShoppingReserve.description",
            "default_case": "No",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "CreditShoppingReserveCredit": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "CreditShoppingReserveCredit": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "AutoGetCredits": {
            "type": "switch",
            "label": "$option.AutoGetCredits.label",
            "description": "$option.AutoGetCredits.description",
            "default_case": "Yes",
            "cases": [
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "AutoGetCredits": {
                            "enabled": true
                        }
                    }
                },
                {
                    "name": "No",
                    "pipeline_override": {
                        "AutoGetCredits": {
                            "enabled": false
                        }
                    }
                }
            ]
        }
    }
}
